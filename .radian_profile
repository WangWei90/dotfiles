options(
    radian.color_scheme = "native",
    radian.history_search_no_duplicates = TRUE,
    radian.auto_match = TRUE,
    radian.completion_timeout = 0
    # radian.editing_mode = "vi"
    # radian.history_size = 100
    # radian.auto_suggest = TRUE
    # radian.indent_lines = FALSE
    # radian.insert_new_line = FALSE,
    # radian.auto_match.auto_indentation = FALSE
    # radian.complete_commit_on_tab = TRUE
    # radian.complete_while_typing = FALSE
)

options(radian.escape_key_map = list(
    list(key = "-", value = " <- "),
    list(key = "m", value = " %>% ")
))


# options(radian.on_load_hooks = list(function() {
#     getOption("rchitect.py_tools")$attach()

#     radian <- import("radian")
#     prompt_toolkit <- import("prompt_toolkit")

#     KeyPress <- prompt_toolkit$key_binding$key_processor$KeyPress
#     Keys <- prompt_toolkit$keys$Keys

#     insert_mode <- radian$key_bindings$insert_mode
#     app <- radian$get_app()
#     kb <- app$session$modes$r$prompt_key_bindings

#     kb$add("j", "j", filter = insert_mode)(function(event) {
#         event$app$key_processor$feed(KeyPress(Keys$Escape))
#     })
# }))
